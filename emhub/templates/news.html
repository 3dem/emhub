{% macro news_cards(label, news) -%}
    {% if news %}
        <div class="row">
            <h3 class="col-12">{{ label }}</h3>
            {% for n in news %}
            <div class="col-auto m-0 p-0 mb-3" style="min-width: 700px; max-width: 700px;">
                <div class="card-body pl-1 ml-1 mb-0 mt-0 pb-0 pt-0 h-100 news-card">
                    <div class="alert alert-{{ n['type'] }} m-0" role="alert">
                        <h4 class="alert-heading">{{ n['title'] }}</h4>
                        <hr>
                        <p>{{ n['html'] }}</p>
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>
    {% endif %}
{%- endmacro %}

{% macro news_table(label, news) -%}
    {% if news %}
        <div class="row">
            <h3 class="col-12">{{ label }}</h3>

            <div class="table-responsive" id="news-table-content-{{ label }}">

                <table id="news-table-{{ label }}" class="table table-news">
                    <thead>
                        <tr>
                            {% if current_user.is_manager %}
                                <th>actions</th>
                            {% endif %}
                            <th>id</th>
                            <th>type</th>
                            <th>title</th>
                            <th>html</th>
                        </tr>
                    </thead>
                    <tbody>
                        {% for n in news %}
                            <tr>
                                {% if current_user.is_manager %}
                                <td>
                                   <a href="javascript:editNews()" class="btn btn-outline-light">
                                             <i class="far fa-edit"></i></a>
                                </td>
                                {% endif %}

                                <td></td>
                                <td>{{ n['type'] }}</td>
                                <td>{{ n['title'] }}</td>
                                <td>{{ n['html'] }}</td>
                            </tr>
                        {% endfor %}

                    </tbody>
                </table>
            </div>
        </div>
    {% endif %}
{%- endmacro %}


{% macro news_card_div(label, news, display) -%}
    {% if news %}
        <div class="card">
            <div class="card-body">
                {% if display == 'cards' %}
                    {{ news_cards(label, news) }}
                {% else %}
                    {{ news_table(label, news) }}
                {% endif %}
            </div>
        </div>
    {% endif %}
{%- endmacro %}

{{ news_card_div('News', news['active'], display) }}
{{ news_card_div('Inactive', news['inactive'], display) }}

<script>
    (function(window, document, $, undefined) {
    "use strict";

    var costs_table = $('.table-news').DataTable({
        sDom: 'lrtip',
        ordering: true,
        paging: false,
        info: false
    });

    })(window, document, window.jQuery);


</script>