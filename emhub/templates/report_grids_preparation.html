
{% import "entry_macros.html" as macros %}

{% for label, gridbox in data['gridboxes'].items() %}

    {% set info = [
         ['Grid Box Slots'],
         ['Sample(s)'],
         ['Grid Type'],
         ['Add. Grid Info.'],
         ['Glow Discharge'],
         ['Device, Temp., RH (%)'],
         ['Blot Time, Wait Time, Drain Time (s)'],
         ['Blot Force, Blot Total, No. Applications'],
         ['Manual Blot / Backside Blot'],
         ['Add. Freezing Info.']
        ]
    %}

    {% for i in range(1, 5) %}
        {% if i in gridbox %}
            {% set row = gridbox[i] %}
            
            {% set film = {'Carbon': 'C', 'Gold': 'Au', 'Other': 'Other'}[row['film_material']] %}
            {% set hole_size = row['hole_size'] %}
            {% set hole_size_prefix = '' if hole_size in ['Lacey', 'Multihole'] else 'R'  %}
            {% set mesh = 'Other' if row['mesh'] == 'Other' else row['mesh'][0] %}
            {% set grid_material = {'Copper': 'Cu', 'Gold': 'Au', 'Nickel': 'Ni', "Molybdenum": "Mo", 'Other': 'Other'}[row['grid_material']] %}
            {% set grid_type = '%s-%s %s-%s%s%s'|format(row['grid_manufacturer'], film, hole_size_prefix, hole_size, mesh, grid_material) %}
            
            {% do info[0].append(i) %}
            {% do info[1].append(row['sample']) %}
            {% do info[2].append(grid_type) %}
            {% do info[3].append(row['grid_info']) %}
            {% do info[4].append('%s %smA %ss'|format(row['glow_device'], row['glow_current'], row['glow_time'])) %}
            {% do info[5].append('%s %sÂ°C %s%%'|format(row['device'], row['temperature'], row['humidity'])) %}

            {% for l in info[6:] %}
                {% do l.append('') %}
            {% endfor %}
        {% else %}
            {% for l in info %}
                {% do l.append('') %}
            {% endfor %}
        {% endif %}
    {% endfor %}

    {{ macros.table_card('Grid Box: ' + label, info) }}


{% endfor %}

















